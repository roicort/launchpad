---
import { Icon } from 'astro-icon/components';

interface Props {
	eyebrow?: string;
	title?: string;
}

const { eyebrow, title } = Astro.props as Props;


const mytools = [
  'Figma', 'Framer', 'Webflow', 'Notion', 'Lottie', 'Canva', 'Sketch', 'Shopify', 'Photoshop', 'Miro'
]

const iconMap: Record<string, string> = {
  figma: 'tabler:brand-figma',
  framer: 'tabler:brand-framer',
  webflow: 'tabler:brand-webflow',
  notion: 'tabler:brand-notion',
  lottie: 'tabler:movie',
  canva: 'tabler:palette',
  sketch: 'tabler:brand-sketch',
  shopify: 'tabler:shopping-cart',
  photoshop: 'tabler:brand-adobe-photoshop',
  miro: 'tabler:layout-grid'
}
--- 

<script>
import { gsap } from 'gsap';

document.addEventListener('DOMContentLoaded', function () {
    const clonedContainer = document.querySelector('#cloned') as any

    Array.from(clonedContainer.children).forEach((img: any) => {
        const clone = img.cloneNode(true); 
        clonedContainer.appendChild(clone); 
    })

    const tl = gsap.timeline({ repeat: -1 });
    tl.to(clonedContainer, {
        x: -(clonedContainer.scrollWidth / 2),  duration: 30, ease: 'none'
    })
});
</script>
  
<section>
  {eyebrow && <p class="text-[0.65rem] font-semibold uppercase text-subtle m-0">{eyebrow}</p>} 
	{title && <h2 class="text-3xl sm:text-4xl font-semibold leading-tight text-ink m-0">{title}</h2>} 
    <div class="overflow-hidden pt-[var(--grid-cell)]">
        <div class="flex items-center gap-10 md:gap-30" id="cloned">
            {mytools.map(item => {
              const iconName = iconMap[item.toLowerCase()] ?? 'tabler:star';
              return (
                <div class="text-ink flex-1 text-2xl whitespace-nowrap flex items-center gap-3">
                  <Icon name={iconName} size={24} stroke-width={1.6} />
                  <span>{item}</span>
                </div>
              )
            })}
        </div>
    </div>
</section>